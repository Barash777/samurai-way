"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[743],{3743:function(t,s,e){e.r(s),e.d(s,{default:function(){return G},withParams:function(){return F}});var n=e(1413),i=e(5671),r=e(3144),o=e(9340),u=e(1129),a=e(2791),l="ProfileInfo_avatar__1VFcV",d="ProfileInfo_description__u7GZ5",c="ProfileInfo_aboutMeBlock__NreGH",p=e(5750),f=e(9439),h=e(184),v=function(t){var s=(0,a.useState)(!1),e=(0,f.Z)(s,2),n=e[0],i=e[1],r=(0,a.useState)(t.status),o=(0,f.Z)(r,2),u=o[0],l=o[1],d=function(){i(!1),t.updateProfileStatus(u)};return(0,a.useEffect)((function(){l(t.status)}),[t.status]),(0,h.jsx)("div",{children:n?(0,h.jsx)("div",{children:(0,h.jsx)("input",{autoFocus:!0,value:u,onChange:function(t){l(t.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&d()},onBlur:function(){d()}})}):(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){i(!0)},children:t.status||"No status"})})})};var x=function(t){var s,e,n,i,r,o;return null!==(s=t.profile)&&void 0!==s&&s.userId?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("img",{className:l,src:null!==(e=null===(n=t.profile)||void 0===n||null===(i=n.photos)||void 0===i?void 0:i.small)&&void 0!==e?e:"https://cdn.arstechnica.net/wp-content/uploads/2016/02/5718897981_10faa45ac3_b-640x624.jpg",alt:""}),(0,h.jsx)(v,{status:t.status,updateProfileStatus:t.updateProfileStatus})]}),(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("h3",{children:"About me"}),(0,h.jsxs)("p",{children:["My name is ",null===(r=t.profile)||void 0===r?void 0:r.fullName]}),(0,h.jsx)("p",{children:null===(o=t.profile)||void 0===o?void 0:o.aboutMe}),t.profile.lookingForAJob?(0,h.jsxs)("div",{children:["I'm looking for a job!!! ",t.profile.lookingForAJobDescription]}):""]})]}):(0,h.jsx)(p.Z,{})},j=e(6407),m="MyPosts_posts__GSiZ2",g="MyPosts_postsBlock__lB-pf",P="Post_item__Yu4oG";var Z=function(t){return(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/ru/thumb/c/ce/Aang.png/280px-Aang.png",alt:""}),t.message,(0,h.jsxs)("div",{children:[t.likeCount,(0,h.jsx)("span",{children:" like(s)"})]})]},t.id)},_=e(5290),k=function(t){var s=(0,_.cI)(),e=s.register,i=s.handleSubmit,r=s.formState.errors;return(0,h.jsxs)("form",{onSubmit:i((function(s){t.addNewPost(s.text)})),children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("textarea",(0,n.Z)((0,n.Z)({},e("text",{required:"message is required"})),{},{placeholder:"post text"})),r.text&&(0,h.jsx)("span",{children:r.text.message})]}),(0,h.jsx)("div",{children:(0,h.jsx)("input",{type:"submit",value:"Post"})})]})},b=function(t){(0,o.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,i.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"render",value:function(){var t=this,s=this.props.posts.map((function(t){return(0,h.jsx)(Z,{id:t.id,message:t.message,likeCount:t.likeCount},t.id)}));return(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(k,{addNewPost:function(s){t.props.addPost(s)}}),(0,h.jsx)("div",{className:m,children:s})]})}}]),e}(a.PureComponent),y=b,S=e(2177),A=(0,S.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,j.Pi)(s))}}}))(y);var w=function(t){return(0,h.jsxs)("div",{children:[(0,h.jsx)(x,{profile:t.profile,status:t.status,updateProfileStatus:t.updateProfileStatus}),(0,h.jsx)(A,{})]})},N=e(6871),C=e(7781),I=e(2163),M=function(t){(0,o.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,i.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t,s,e,n=null!==(t=null===(s=this.props)||void 0===s||null===(e=s.params)||void 0===e?void 0:e.userId)&&void 0!==t?t:this.props.loggedUserId;this.props.getProfile(+n),this.props.getProfileStatus(+n)}},{key:"render",value:function(){return(0,h.jsx)(w,(0,n.Z)({},this.props))}}]),e}(a.Component);function F(t){return function(s){return(0,h.jsx)(t,(0,n.Z)((0,n.Z)({},s),{},{params:(0,N.UO)()}))}}var G=(0,C.qC)((0,S.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,isAuth:t.auth.isAuth,loggedUserId:t.auth.userId}}),{getProfile:j.GA,getProfileStatus:j.bs,updateProfileStatus:j.xr}),F,I.Z)(M)},2163:function(t,s,e){var n=e(1413),i=e(4925),r=(e(2791),e(6871)),o=e(2177),u=e(184),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};s.Z=function(t){return(0,o.$j)(l)((function(s){var e=s.isAuth,o=(0,i.Z)(s,a);return e?(0,u.jsx)(t,(0,n.Z)({},o)):(0,u.jsx)(r.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=743.d7ed6f29.chunk.js.map